<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="0; URL=">
    <title>URL Proxy</title>
</head>
<body>
    <h1>Redirecting...</h1>
    <p>If you are not redirected, <a href="#" id="manualLink">click here</a>.</p>
    <script>
        // Function to get query parameter by name
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Get the URL parameter
        const targetUrl = getQueryParam('url');

        // Ensure the URL is safe
        if (targetUrl) {
            // Validate and sanitize URL
            const safeUrl = encodeURIComponent(targetUrl);
            document.querySelector('meta[http-equiv="refresh"]').setAttribute('content', `0; URL=${safeUrl}`);
            document.getElementById('manualLink').href = decodeURIComponent(safeUrl);
        } else {
            document.getElementById('manualLink').href = '#';
            alert('No URL parameter provided.');
        }
    </script>
</body>
</html>
